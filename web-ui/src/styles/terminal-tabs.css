        .terminal-tabs {
          display: flex;
          align-items: center;
          gap: 2px;
          padding: 4px 8px;
          background: transparent;
          border-bottom: 1px solid var(--color-border-subtle);
          height: 36px;
          overflow: hidden;
          flex-shrink: 0;
        }

        .terminal-tab {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
          padding: 4px 12px;
          min-width: 80px;
          font-size: 12px;
          color: var(--color-text-secondary);
          background: rgba(39, 39, 42, 0.6);
          backdrop-filter: blur(8px);
          border: 1px solid var(--color-glass-border, rgba(255, 255, 255, 0.08));
          border-radius: var(--radius-sm) var(--radius-sm) 0 0;
          cursor: pointer;
          transition: all var(--transition-base);
          white-space: nowrap;
        }

        .terminal-tab:hover:not(.terminal-tab--active) {
          color: var(--color-text-primary);
          background: rgba(63, 63, 70, 0.8);
          transform: translateY(-1px);
        }

        .terminal-tab--active {
          color: var(--color-text-primary);
          background: linear-gradient(135deg, hsla(var(--accent-hue), var(--accent-s), var(--accent-l), 0.15), hsla(var(--accent-hue), var(--accent-s), var(--accent-l), 0.05));
          border-color: hsla(var(--accent-hue), var(--accent-s), var(--accent-l), 0.3);
          box-shadow:
            0 0 20px hsla(var(--accent-hue), var(--accent-s), var(--accent-l), 0.2),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .terminal-tab--active::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 20%;
          right: 20%;
          height: 2px;
          background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
          border-radius: 1px;
        }

        .terminal-tab-icon {
          flex-shrink: 0;
          opacity: 0.7;
          transition: opacity var(--transition-fast), color var(--transition-fast);
        }

        /* Tab-type specific icon colors */
        .terminal-tab[data-type="claude"] .terminal-tab-icon {
          color: var(--color-tab-claude, #3b82f6);
        }

        .terminal-tab[data-type="htop"] .terminal-tab-icon {
          color: var(--color-tab-htop, #22c55e);
        }

        .terminal-tab[data-type="yazi"] .terminal-tab-icon {
          color: var(--color-tab-yazi, #3b82f6);
        }

        .terminal-tab[data-type="terminal"] .terminal-tab-icon {
          color: var(--color-tab-terminal, #f59e0b);
        }

        .terminal-tab--active .terminal-tab-icon {
          opacity: 1;
        }

        .terminal-tab-label {
          user-select: none;
        }

        .terminal-tab-close {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 18px;
          height: 18px;
          padding: 0;
          border: none;
          border-radius: var(--radius-sm);
          background: transparent;
          color: var(--color-text-muted);
          opacity: 0;
          transform: scale(0.8);
          cursor: pointer;
          transition: all var(--transition-fast);
        }

        .terminal-tab:hover .terminal-tab-close {
          opacity: 1;
          transform: scale(1);
        }

        .terminal-tab-close:hover {
          color: var(--color-error);
          background: var(--color-error-muted);
        }

        .terminal-tab-drag-handle {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 14px;
          height: 14px;
          color: var(--color-text-muted);
          opacity: 0;
          cursor: grab;
          transition: opacity var(--transition-fast);
        }

        .terminal-tab:hover .terminal-tab-drag-handle {
          opacity: 1;
        }

        .terminal-tab-drag-handle:active {
          cursor: grabbing;
        }

        .terminal-tab--dragging {
          opacity: 0.8;
          background: var(--color-bg-elevated);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
          z-index: 100;
        }

        .sortable-ghost {
          opacity: 0.5;
        }

        .terminal-tab-add {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 28px;
          height: 28px;
          padding: 0;
          border: none;
          border-radius: var(--radius-sm);
          background: transparent;
          color: var(--color-text-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .terminal-tab-add:hover {
          color: var(--color-accent);
          background: var(--color-bg-elevated);
          transform: scale(1.05);
        }

        .terminal-tab-add:active {
          transform: scale(0.95);
        }

        /* ======================================
           Mobile: wider tabs with label + close button, horizontal scroll
           ====================================== */
        @media (max-width: 640px) {
          .terminal-tabs {
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
          }

          .terminal-tabs::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
          }

          .terminal-tab {
            min-width: 0;
            padding: 4px 10px;
            min-height: 36px;
          }

          .terminal-tab-label {
            font-size: 11px;
          }

          .terminal-tab-close {
            opacity: 1;
            transform: scale(1);
            width: 22px;
            height: 22px;
          }

          .terminal-tab-drag-handle {
            display: none;
          }

          .terminal-tab-add {
            width: 36px;
            height: 36px;
          }

        }

        /* ======================================
           Mobile: close popup for tabs
           ====================================== */
        .terminal-tab-close-popup {
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          margin-top: 4px;
          padding: 6px 12px;
          background: var(--color-bg-elevated);
          border: 1px solid var(--color-border-default);
          border-radius: var(--radius-md);
          box-shadow: var(--shadow-lg);
          z-index: 60;
          white-space: nowrap;
        }

        .terminal-tab-close-popup-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 4px 12px;
          background: transparent;
          border: none;
          border-radius: var(--radius-sm);
          color: var(--color-error);
          font-size: var(--text-sm);
          cursor: pointer;
          transition: background var(--transition-fast);
        }

        .terminal-tab-close-popup-btn:hover {
          background: var(--color-error-muted);
        }
